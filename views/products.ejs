<%- include("partials/header") %>
<div class="pt-8 bg-gray-100 rounded-xl text-gray-800">
    <div id="breadcrumbs" class="-mt-2 flex gap-1 items-center text-xs px-8">
        <a href="/" class="text-gray-600">Keygen Admin</a>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
            <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
        </svg>
        <a class="text-gray-700 font-medium" href="/products">Products</a>
    </div>

    <div class="flex items-center px-8 my-4">
        <div class="w-full">
            <h1 class="text-3xl flex gap-1 items-center">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
                </svg>

                Products
            </h1>
        </div>
        <div class="w-full flex justify-end">
            <a href="/products/create" class="flex items-center gap-[4px] no-underline bg-white/50 py-2 px-3 rounded-full text-sm border border-white/50 hover:border-gray-400 transition-all text-gray-400 hover:text-gray-800">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>

                Add Product
            </a>
        </div>
    </div>


    <div class="flex flex-col gap-4 bg-gray-50 border-t py-1 border-t-gray-200 rounded-b-xl pb-4">
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>ID</th>
                    <th>Created</th>
                </tr>
            </thead>
            <% for (const product of products) { %>
            <tr>
                <td>
                    <a href="/product/<%= product.id %>">
                        <%= product.attributes.name %>
                    </a>
                </td>
                <td class="full mono">
                    <%= product.id.split("-")[0] %>
                </td>
                <td>
                    <%= product.attributes.created.split("T")[0] %>
                </td>
            </tr>
            <% } %>
            <% if (products.length === 0) { %>
            <tr>
                <td colspan="3" class="text-xs text-gray-600">No products found</td>
            </tr>
            <% } %>
        </table>
    </div>
</div>
<%- include("partials/footer") %>